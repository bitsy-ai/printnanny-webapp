---
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: printnanny-ai-tls
  namespace: {{ PRINTNANNY_NAMESPACE }}
spec:
  secretName: printnanny-ai-tls
  issuerRef:
    name: letsencrypt-dns-issuer
    kind: ClusterIssuer
  dnsNames:
  {% if PRINTNANNY_NAMESPACE == 'live' %}
  - printnanny.ai
  - '*.printnanny.ai'
  {% endif %}
  - {{ PRINTNANNY_NAMESPACE }}.printnanny.ai
  - '*.{{ PRINTNANNY_NAMESPACE }}.printnanny.ai'
  acme:
    config:
      - dns01:
          provider: clouddns
        domains:
          {% if PRINTNANNY_NAMESPACE == 'live' %}
          - printnanny.ai
          - '*.printnanny.ai'
          {% endif %}
          - {{ PRINTNANNY_NAMESPACE }}.printnanny.ai
          - '*.{{ PRINTNANNY_NAMESPACE }}.printnanny.ai'